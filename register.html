<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI上智能 – 注册</title>
  <link rel="icon" href="images/logo.png" type="image/png" />
  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <style>
    body {
      background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), 
                  url('images/login.webp') no-repeat center center fixed;
      background-size: cover;
      font-family: 'Microsoft YaHei', sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding-top: 80px;
    }

    .navbar {
      background-color: rgba(255, 255, 255, 0.95);
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
    }

    .navbar-brand img {
      height: 48px;
      transition: transform 0.3s;
    }

    .navbar-brand img:hover {
      transform: scale(1.05);
    }

    .form-container {
      background-color: rgba(255, 255, 255, 0.98);
      padding: 3rem 4rem;
      border-radius: 16px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
      max-width: 500px;
      margin: 3rem auto;
      color: #333;
    }

    .form-control {
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      background: transparent;
      color: #333;
      font-size: 16px;
      transition: all 0.3s ease;
    }

    .form-control:focus {
      border-color: #2196F3;
      box-shadow: 0 0 10px rgba(33, 150, 243, 0.15);
      outline: none;
    }

    .form-control::placeholder {
      color: #666;
    }

    .form-label {
      font-weight: 500;
      color: #222;
    }

    .invalid-feedback {
      color: #dc3545;
      font-size: 0.9rem;
    }

    .btn-register {
      background: linear-gradient(135deg, #2196F3, #30cfd0);
      color: white;
      padding: 14px 32px;
      border-radius: 25px;
      font-weight: 500;
      letter-spacing: 0.8px;
      transition: transform 0.3s ease;
      border: none;
    }

    .btn-register:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(33, 150, 243, 0.2);
    }

    .password-toggle {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      color: #666;
    }

    .password-toggle:hover {
      color: #2196F3;
    }

    .file-label {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.8rem 1.2rem;
      border: 2px dashed #e0e0e0;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .file-label:hover {
      border-color: #2196F3;
    }

    .form-check-input:checked {
      background-color: #2196F3;
      border-color: #2196F3;
    }

    .nav-link {
      color: #4b5563;
      font-weight: 500;
      transition: color 0.3s ease;
    }

    .nav-link:hover {
      color: #2196F3;
    }

    @media (max-width: 768px) {
      .form-container {
        padding: 2rem;
      }
    }
  </style>
</head>
<body>

  <!-- 导航栏 -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top">
    <div class="container">
      <a class="navbar-brand" href="index.html">
        <img src="images/logo.png" alt="AI知识库">
      </a>
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="index.html">首页</a></li>
        <li class="nav-item"><a class="nav-link" href="knowledge.html">AI 知识库</a></li>
        <li class="nav-item"><a class="nav-link" href="#">AI 新闻</a></li>
        <li class="nav-item"><a class="nav-link" href="YQLJ.html">友情链接</a></li>
      </ul>
      <a href="login.html" class="d-none d-lg-inline-block">
        <img src="images/user.webp" alt="默认头像" width="40" height="40" class="rounded-circle ms-3">
      </a>
    </div>
  </nav>

  <div class="form-container mt-5">
    <h2 class="text-center mb-4 text-primary fw-bold">注册新账号</h2>
    <p class="text-center mb-4 text-gray-500">通过邮箱注册，开启AI学习之旅</p>
    
    <form id="registerForm" novalidate>
      <div class="mb-3">
        <label class="form-label">用户名</label>
        <div class="position-relative">
          <input type="text" class="form-control" id="username" placeholder="请输入用户名" required>
          <div class="invalid-feedback">请输入6-20位用户名</div>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">电子邮箱</label>
        <input type="email" class="form-control" id="email" placeholder="请输入邮箱" required>
        <div class="invalid-feedback">请输入有效的邮箱地址</div>
      </div>

      <div class="mb-3">
        <label class="form-label">性别（可选）</label>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="gender" id="genderMale" value="male">
          <label class="form-check-label ms-2" for="genderMale">男</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="gender" id="genderFemale" value="female">
          <label class="form-check-label ms-2" for="genderFemale">女</label>
        </div>
      </div>

      <div class="mb-3 position-relative">
        <label class="form-label">密码</label>
        <input 
          type="password" 
          class="form-control" 
          id="password" 
          placeholder="请输入密码" 
          required
          pattern="(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}"
          title="密码至少 8 位，且包含至少一个字母和一个数字"
        >
        <button type="button" class="password-toggle" onclick="togglePassword('password','icon1')">
          <i class="fas fa-eye" id="icon1"></i>
        </button>
        <div class="form-text text-muted">密码至少 8 位，包含字母和数字</div>
        <div class="invalid-feedback">密码不符合要求</div>
      </div>

      <div class="mb-3 position-relative">
        <label class="form-label">确认密码</label>
        <input 
          type="password" 
          class="form-control" 
          id="confirmPassword" 
          placeholder="请再次输入密码" 
          required
        >
        <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword','icon2')">
          <i class="fas fa-eye" id="icon2"></i>
        </button>
        <div class="invalid-feedback">两次输入的密码不一致</div>
      </div>

      <div class="mb-3">
        <label for="avatar" class="form-label file-label">
          <i class="fas fa-upload"></i> 上传头像（可选）
        </label>
        <input class="form-control d-none" type="file" id="avatar" accept="image/*">
        <div class="form-text text-muted">支持 JPG/PNG, 最大 2MB</div>
      </div>

      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="agree" required>
        <label class="form-check-label" for="agree">
          我已阅读并同意 <a href="#" class="text-primary text-decoration-underline">用户协议</a>
        </label>
        <div class="invalid-feedback">需要同意用户协议才能继续</div>
      </div>

      <button type="submit" class="btn-register w-100 mb-3">立即注册</button>
      <div class="text-center mt-3">
        <span class="text-gray-500">已有账号？</span> 
        <a href="login.html" class="text-primary fw-bold">去登录</a>
      </div>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function togglePassword(fieldId, iconId) {
      const field = document.getElementById(fieldId);
      const icon = document.getElementById(iconId);
      if (field.type === 'password') {
        field.type = 'text';
        icon.classList.replace('fa-eye', 'fa-eye-slash');
      } else {
        field.type = 'password';
        icon.classList.replace('fa-eye-slash', 'fa-eye');
      }
    }

    (function () {
      const form = document.getElementById('registerForm');
      const pwd = document.getElementById('password');
      const cpwd = document.getElementById('confirmPassword');

      form.addEventListener('submit', function (e) {
        if (pwd.value !== cpwd.value) {
          cpwd.setCustomValidity('密码不匹配');
        } else {
          cpwd.setCustomValidity('');
        }
        if (!form.checkValidity()) {
          e.preventDefault();
          e.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    })();
  </script>
</body>
</html>